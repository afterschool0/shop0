doctype html
html
    head
        meta(charset='utf-8')
        meta(name='viewport', content='width=device-width, initial-scale=1')
        title
        link(rel='shortcut icon', href='favicon.ico')

        link(rel="dns-prefetch", href="https://cdnjs.cloudflare.com")
        link(rel="dns-prefetch", href="https://cdn.jsdelivr.net")
        link(rel="dns-prefetch", href="https://stackpath.bootstrapcdn.com")
        link(rel="dns-prefetch", href="https://use.fontawesome.com")

        link(rel='prefetch', href='https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css')
        link(rel='prefetch', href='https://use.fontawesome.com/releases/v5.0.10/css/all.css', integrity='sha384-+d0P83n9kaQMCwj8F4RJB66tzIwOKmrdb46+porD/OvrJ+37WqIM7UoBtwHO6Nlg', crossorigin='anonymous')
        link(rel="prefetch", href="https://code.jquery.com/jquery-3.3.1.min.js")
        link(rel="prefetch", href='https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js')
        link(rel="prefetch", href="https://cdnjs.cloudflare.com/ajax/libs/cryptico/0.0.1343522940/cryptico.min.js")
        link(rel="prefetch", href="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.4/lodash.min.js")
        link(rel="prefetch", href="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.7.2/angular.min.js")
        link(rel="prefetch", href="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.7.2/angular-resource.min.js")
        link(rel="prefetch", href="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.7.2/angular-messages.min.js")
        link(rel="prefetch", href="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.7.2/angular-aria.min.js")
        link(rel="prefetch", href="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.7.2/i18n/angular-locale_ja-jp.js")
        link(rel="prefetch", href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css")
        link(rel="prefetch", href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js")
        link(rel='prefetch', href='/scripts/angular1-ui-bootstrap4/dist/ui-bootstrap-csp.css')
        link(rel="prefetch", href='/scripts/angular1-ui-bootstrap4/dist/ui-bootstrap.js')
        link(rel="prefetch", href='/scripts/angular1-ui-bootstrap4/dist/ui-bootstrap-tpls.js')
        link(rel='prefetch', href='/systems/stylesheets/font_noto.css')
        link(rel='prefetch', href='/systems/stylesheets/progress.css')
        link(rel='prefetch', href='/systems/stylesheets/holygrail.css')
        link(rel="prefetch", href="/systems/stylesheets/styles.css")
        link(rel="prefetch", href="/systems/common/services.js")
        link(rel="prefetch", href="/systems/publickey/publickey_services.js")
        link(rel="prefetch", href="/systems/auth/auth_services.js")
        link(rel="prefetch", href="/systems/auth/auth_controllers.js")
        link(rel="prefetch", href="/systems/accounts/account_services.js")
        link(rel="prefetch", href="/systems/accounts/account_controllers.js")
        link(rel="prefetch", href="/applications/front/front_application.js")
        link(rel="prefetch", href="/applications/front/front_controllers.js")


        link(rel="stylesheet", type="text/css", href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css")
        link(rel='stylesheet', type='text/css', href='https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css')
        link(rel='stylesheet', type='text/css', href='https://use.fontawesome.com/releases/v5.0.10/css/all.css', integrity='sha384-+d0P83n9kaQMCwj8F4RJB66tzIwOKmrdb46+porD/OvrJ+37WqIM7UoBtwHO6Nlg', crossorigin='anonymous')

        link(rel='stylesheet', type="text/css", href='/scripts/angular1-ui-bootstrap4/dist/ui-bootstrap-csp.css')
        link(rel='stylesheet', type="text/css", href='/systems/stylesheets/progress.css')
        link(rel='stylesheet', type='text/css', href='/systems/stylesheets/holygrail.css')
        link(rel="stylesheet", type="text/css", href="/systems/stylesheets/styles.css")
        script(type="text/javascript", src='https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js')
        style.
            .table {
                box-sizing: border-box;
                border:solid 1px #aaa;
            }

            .title-cell {
                text-align: center;
                padding:0.4rem;
                font-weight:700;
                color:#eee;
                background-color:#888;
                border: solid 1px #aaa;
            }

            .row-cell {
                font-weight:500;
                background-color: #f8f8f8;
                border-top: solid 1px #aaa;

            }

            .cell {
                font-weight: 100;
                border-top: solid 1px #aaa;
                border-left: solid 1px #aaa;
            }
    body(ng-app="FrontApplication", style="background:#ECEFF1;", ng-controller="LoginController")
        div(ng-show="progress", style="z-index:20000;position:fixed;top:50%;left:50%;margin-top:-70px;margin-left:-75px;")
            #progress
                #rond
                    #test
                #load
        .page-column
            .header( style="position: fixed;width: 100%;")
                div(style="padding:1rem;")
                    img.img-fluid(src="")
                    div(style="font-size:1.8rem;") auth0
                if !role.guest
                    span(style="float:right")
                        button.btn.btn-success(type="button", href='#', ng-click="showRegisterDialog()", aria-label="", style="margin:12px 6px;")
                            i.fas.fa-sign-in-alt
                            span &nbsp;#{message.regist}

                        button.btn.btn-info(type="button", href='#', ng-click="showLoginDialog()", aria-label="", style="margin:12px 6px;")
                            i.fas.fa-sign-in-alt
                            span &nbsp;#{message.login}

                if role.guest
                    .menu
                        input#menu-input.menu-unshown(type='checkbox', style="height:100vh;")
                        label#menu-open.menu-trigger(for='menu-input')
                            span
                            span
                            span
                        label#menu-close.menu-unshown(for='menu-input', style="height:100vh;")
                        #menu-content
                            #hidden(style='height:100vh;')
                                nav(class=role.user ? 'sidebar-color-invert':'sidebar-color', style="height:100vh")
                                    div(style="color:#ffffff; background-color:#263238;padding:1rem;margin-bottom:1rem;")
                                        div(style="font-size:0.8rem;") #{local.mails[0]}
                                        div(style="font-size:0.8rem;") #{local.nickname}
                                        div
                                            if role.system
                                                i.fas.fa-circle(style="color:#E91E63;")
                                            if role.user
                                                i.fas.fa-circle(style="color:#673AB7;")
                                            if role.member
                                                i.fas.fa-circle(style="color:#2196F3;")
                                            if role.temp
                                                i.fas.fa-circle(style="color:#009688;")
                                            if role.guest
                                                i.fas.fa-circle(style="color:#FFC107;")

                                    ul.sidebar-menu(style="font-weight: 500")
                                        li
                                            a(href='#', ng-click="showPasswordDialog()", style="color:#ffffff;")
                                                i.fas.fa-key.fa-fw.text-danger
                                                span(style="font-size:0.8rem;") &nbsp; #{message.password}
                                        li
                                            a(href='#', ng-click="Logout()", style="color:#ffffff;")
                                                i.fas.fa-sign-out-alt
                                                span(style="font-size:0.8rem;") &nbsp; #{message.logout}
            if role.guest
                .content-row
                    .main-row(style="margin-top:80px;")
                        aside.left-pane.main-sidebar(class=role.user ? 'sidebar-color-invert':'sidebar-color')
                            div(style="color:#ffffff; background-color:#263238;padding:1rem;margin-bottom:1rem;")
                                div(style="font-size:0.8rem;") #{local.mails[0]}
                                div(style="font-size:0.8rem;") #{local.nickname}
                                div
                                    if role.system
                                        i.fas.fa-circle(style="color:#E91E63;")
                                    if role.user
                                        i.fas.fa-circle(style="color:#673AB7;")
                                    if role.member
                                        i.fas.fa-circle(style="color:#2196F3;")
                                    if role.temp
                                        i.fas.fa-circle(style="color:#009688;")
                                    if role.guest
                                        i.fas.fa-circle(style="color:#FFC107;")

                            ul.sidebar-menu(style="font-weight: 500")
                                li
                                    a(href='#', ng-click="showPasswordDialog()", style="color:#ffffff;")
                                        i.fas.fa-key.fa-fw.text-danger
                                        span(style="font-size:0.8rem;") &nbsp; #{message.password}
                                li
                                    a(href='#', ng-click="Logout()", style="color:#ffffff;")
                                        i.fas.fa-sign-out-alt
                                        span(style="font-size:0.8rem;") &nbsp; #{message.logout}

                        .main-pane(style="padding:1rem;background-color:#f4f4f4;")
                            include partial/logged

                        .right-pane



                .footer-pane

            else
                div
                    //include partial/no_logged

    script(type="text/javascript", src="/socket.io/socket.io.js")
    script(type="text/javascript", src="https://cdnjs.cloudflare.com/ajax/libs/cryptico/0.0.1343522940/cryptico.min.js")

    script(type="text/javascript", src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.4/lodash.min.js")
    script(type="text/javascript", src="https://code.jquery.com/jquery-3.3.1.min.js", integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=", crossorigin="anonymous")

    //script(type="text/javascript", src="https://cdnjs.cloudflare.com/ajax/libs/es6-promise/3.2.2/es6-promise.min.js")
    //script(type="text/javascript", src="https://cdnjs.cloudflare.com/ajax/libs/fetch/1.0.0/fetch.min.js")

    script(type="text/javascript", src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.7.2/angular.min.js")
    script(type="text/javascript", src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.7.2/angular-resource.min.js")
    script(type="text/javascript", src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.7.2/angular-messages.min.js")
    script(type="text/javascript", src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.7.2/angular-aria.min.js")
    script(type="text/javascript", src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.7.2/i18n/angular-locale_ja-jp.js")

    script(type="text/javascript", src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js")

    script(type="text/javascript", src='/scripts/angular1-ui-bootstrap4/dist/ui-bootstrap.js')
    script(type="text/javascript", src='/scripts/angular1-ui-bootstrap4/dist/ui-bootstrap-tpls.js')

    script(type="text/javascript", src="/systems/common/services.js")
    script(type="text/javascript", src="/systems/publickey/publickey_services.js")

    script(type="text/javascript", src="/systems/auth/auth_services.js")
    script(type="text/javascript", src="/systems/auth/auth_controllers.js")

    script(type="text/javascript", src="/systems/accounts/account_services.js")
    script(type="text/javascript", src="/systems/accounts/account_controllers.js")

    script(type="text/javascript", src="/applications/front/front_application.js")
    script(type="text/javascript", src="/applications/front/front_controllers.js")
